@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --background: #f8fafc;
    --foreground: #1e293b;
    --primary: #F59E0B;
    /* Yellow/Gold */
    --primary-foreground: #ffffff;
    --secondary: #64748B;
    --secondary-foreground: #0f172a;
  }

  html {
    font-size: 85%;
    /* Scale entire UI down to mimic 85% zoom */
  }

  body {
    @apply bg-slate-50 text-slate-700 min-h-screen font-sans overflow-x-hidden;
    /* Clean white/gray background, no gradients */
    background: #f8fafc;
  }
}

@layer components {

  /* Sidebar */
  .sidebar {
    @apply fixed top-0 left-0 w-[16.25rem] h-full flex flex-col z-50 transition-all duration-300 bg-white border-r border-slate-100;
    /* Removed gradient and heavy shadow */
    /* 260px converted to 16.25rem to scale with font-size */
  }

  .sidebar-header {
    @apply p-6 border-b border-transparent shrink-0 flex items-center gap-3;
  }

  .logo {
    @apply text-xl font-bold text-slate-800 tracking-tight flex items-center gap-2;
  }

  .logo-icon {
    @apply p-1.5 bg-yellow-500 rounded-lg text-white;
  }

  .sidebar-nav {
    @apply flex-1 overflow-y-auto p-4 space-y-1;
  }

  .nav-section-title {
    @apply text-xs font-semibold uppercase tracking-wider text-slate-400 mt-6 mb-2 px-4;
  }

  .nav-item {
    @apply flex items-center px-4 py-3 rounded-lg cursor-pointer transition-all duration-200 font-medium text-slate-500 text-sm hover:bg-slate-50 hover:text-slate-800 relative overflow-hidden;
  }

  .nav-item.active {
    @apply text-yellow-600 bg-yellow-50 font-semibold;
    /* Clean active state: light yellow bg, yellow text, left border indicator */
  }

  .nav-item.active::before {
    content: '';
    @apply absolute left-0 top-0 bottom-0 w-1 bg-yellow-500;
  }

  .nav-icon {
    @apply mr-3 w-5 h-5;
  }

  /* Main Content */
  .main-content {
    @apply flex-1 p-4 md:p-6 lg:p-8 min-h-screen transition-[margin] duration-300;
    margin-left: 0 !important;
    max-width: 100vw;
  }

  @screen lg {
    .main-content {
      margin-left: 16.25rem !important;
      /* Matches sidebar width */
    }
  }

  /* Cards */
  .stats-card {
    @apply rounded-xl p-6 border border-slate-100 shadow-sm transition-all duration-200 hover:shadow-md relative overflow-hidden;
  }

  /* Buttons */
  .btn {
    @apply inline-flex items-center justify-center px-4 py-2 rounded-lg font-medium transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed text-sm shadow-sm btn-uiverse;
  }

  .btn-primary {
    /* Yellow Theme */
    --uib-bg: #F59E0B;
    /* Yellow-500 */
    --uib-color: #ffffff;
    --uib-wave: #d97706;
    /* Yellow-600 */
    --uib-hover-text: #ffffff;
    --uib-border: #F59E0B;
    --uib-shadow-1: rgba(0, 0, 0, 0.1);
    /* Neutral shadow */
    --uib-shadow-2: rgba(255, 255, 255, 0.2);
    /* Neutral highlight */

    @apply border-transparent;
  }

  .btn-secondary {
    /* Grey Theme */
    --uib-bg: #f8fafc;
    /* Slate-50 */
    --uib-color: #475569;
    /* Slate-600 */
    --uib-wave: #F59E0B;
    /* Yellow-500 */
    --uib-hover-text: #ffffff;
    --uib-border: #e2e8f0;
    /* Slate-200 */
    --uib-shadow-1: #cbd5e1;
    /* Slate-300 */
    --uib-shadow-2: #ffffff;
  }

  /* Tables */
  .table-container {
    @apply bg-white rounded-xl border border-slate-200 overflow-hidden shadow-sm;
  }

  .table-header {
    @apply bg-slate-50 text-slate-500 text-xs font-semibold uppercase tracking-wider border-b-2 border-slate-200;
  }

  .table-row {
    @apply border-b border-slate-100 last:border-0 hover:bg-slate-50/50 transition-colors;
  }

  /* Enhanced table cells */
  table th {
    @apply px-4 py-4 text-left border-r border-slate-100 last:border-r-0;
  }

  table td {
    @apply px-4 py-4 border-r border-slate-50 last:border-r-0;
  }

  /* Task card boxes */
  .task-card {
    @apply bg-white rounded-xl border border-slate-200 shadow-sm hover:shadow-md transition-all duration-200;
  }

  .task-card-header {
    @apply bg-gradient-to-r from-yellow-500 to-slate-600 p-4 rounded-t-xl;
  }
}

/* Custom Loader */
.loader {
  border: 3px solid #e2e8f0;
  /* slate-200 */
  border-top: 3px solid currentColor;
  border-radius: 50%;
  aspect-ratio: 1;
  animation: spin 1s linear infinite;
  display: inline-block;
  color: #2563eb;
  /* Default blue-600 */
}

@keyframes spin {
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
}

/* Back to Top Button */
.back-to-top-btn {
  width: 50px;
  height: 50px;
  border-radius: 50%;
  background-color: rgb(20, 20, 20);
  border: none;
  font-weight: 600;
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: 0px 0px 0px 4px rgba(180, 160, 255, 0.253);
  cursor: pointer;
  transition-duration: 0.3s;
  overflow: hidden;
  position: fixed;
  bottom: 30px;
  left: 30px;
  z-index: 9999;
  opacity: 0;
  pointer-events: none;
  transform: translateY(20px);
}

.back-to-top-btn.visible {
  opacity: 1;
  pointer-events: auto;
  transform: translateY(0);
}

.svgIcon {
  width: 12px;
  transition-duration: 0.3s;
}

.svgIcon path {
  fill: white;
}

.back-to-top-btn:hover {
  width: 140px;
  border-radius: 50px;
  transition-duration: 0.3s;
  background-color: rgb(181, 160, 255);
  align-items: center;
}

.back-to-top-btn:hover .svgIcon {
  transition-duration: 0.3s;
  transform: translateY(-200%);
}

.back-to-top-btn::before {
  position: absolute;
  bottom: -20px;
  content: "Back to Top";
  color: white;
  font-size: 0px;
}

.back-to-top-btn:hover::before {
  font-size: 13px;
  opacity: 1;
  bottom: unset;
  transition-duration: 0.3s;
}

/* AI Chat Button Styles */
.ai-chat-flex {
  display: flex;
  align-items: center;
  gap: 5px;
}

.ai-chat-btn {
  padding: 12px 20px;
  border: none;
  font-size: 1rem;
  cursor: pointer;
  position: relative;
  background: linear-gradient(90deg, #5bfcc4, #f593e4, #71a4f0);
  border-radius: 12px;
  color: #fff;
  transition: all 0.3s ease;
  box-shadow:
    inset 0px 0px 5px #ffffffa9,
    inset 0px 35px 30px #000,
    0px 5px 10px #000000cc;
  text-shadow: 1px 1px 1px #000;
}

.ai-chat-btn::before {
  content: "";
  position: absolute;
  inset: 0;
  margin: auto;
  border-radius: 12px;
  filter: blur(0);
  z-index: -1;
  box-shadow: none;
  background: conic-gradient(#00000000 80deg,
      #40baf7,
      #f34ad7,
      #5bfcc4,
      #00000000 280deg);
  transition: all 0.3s ease;
}

.ai-chat-btn:hover::before {
  filter: blur(15px);
}

.ai-chat-btn:active::before {
  filter: blur(5px);
  transform: translateY(1px);
}

.ai-chat-btn:active {
  box-shadow:
    inset 0px 0px 5px #ffffffa9,
    inset 0px 35px 30px #000;
  margin-top: 3px;
}

/* Custom Checkbox Design */
.checkbox-wrapper-46 input[type="checkbox"] {
  display: none;
  visibility: hidden;
}

.checkbox-wrapper-46 .cbx {
  margin: auto;
  -webkit-user-select: none;
  user-select: none;
  cursor: pointer;
  display: flex;
  align-items: center;
}

.checkbox-wrapper-46 .cbx span {
  display: inline-block;
  vertical-align: middle;
  transform: translate3d(0, 0, 0);
}

.checkbox-wrapper-46 .cbx span:first-child {
  position: relative;
  width: 18px;
  height: 18px;
  border-radius: 3px;
  transform: scale(1);
  vertical-align: middle;
  border: 1px solid #9098a9;
  transition: all 0.2s ease;
}

.checkbox-wrapper-46 .cbx span:first-child svg {
  position: absolute;
  top: 3px;
  left: 2px;
  fill: none;
  stroke: #ffffff;
  stroke-width: 2;
  stroke-linecap: round;
  stroke-linejoin: round;
  stroke-dasharray: 16px;
  stroke-dashoffset: 16px;
  transition: all 0.3s ease;
  transition-delay: 0.1s;
  transform: translate3d(0, 0, 0);
}

.checkbox-wrapper-46 .cbx span:first-child:before {
  content: "";
  width: 100%;
  height: 100%;
  background: #506eec;
  display: block;
  transform: scale(0);
  opacity: 1;
  border-radius: 50%;
}

.checkbox-wrapper-46 .cbx span:last-child {
  padding-left: 8px;
}

.checkbox-wrapper-46 .cbx:hover span:first-child {
  border-color: #506eec;
}

.checkbox-wrapper-46 .inp-cbx:checked+.cbx span:first-child {
  background: #506eec;
  border-color: #506eec;
  animation: wave-46 0.4s ease;
}

.checkbox-wrapper-46 .inp-cbx:checked+.cbx span:first-child svg {
  stroke-dashoffset: 0;
}

.checkbox-wrapper-46 .inp-cbx:checked+.cbx span:first-child:before {
  transform: scale(3.5);
  opacity: 0;
  transition: all 0.6s ease;
}

@keyframes wave-46 {
  50% {
    transform: scale(0.9);
  }
}

/* Custom Close Button Design */
.close-btn-wrapper {
  position: relative;
  display: inline-flex;
  align-items: center;
  cursor: pointer;
}

.close-btn-bg {
  width: 3rem;
  /* w-12 */
  height: 3rem;
  /* h-12 */
  background-color: #fb7185;
  /* bg-rose-400 */
  border-radius: 9999px;
  box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
  /* shadow-md */
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.3s ease;
}

.close-btn-bg:hover {
  background-color: #f43f5e;
  /* rose-500 */
}

.close-btn-inner {
  width: 2.5rem;
  /* w-10 */
  height: 2.5rem;
  /* h-10 */
  background-color: #f9fafb;
  /* bg-gray-50 */
  border-radius: 9999px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.25rem;
  transition: transform 0.3s ease;
}

.close-btn-wrapper:hover .close-btn-inner {
  transform: scale(0.75);
}

/* Custom Tooltip Style */
.tooltip-container {
  --background: #333333;
  --color: #e8e8e8;
  position: relative;
  cursor: pointer;
  transition: all 0.4s cubic-bezier(0.23, 1, 0.32, 1);
  font-weight: 600;
  color: var(--color);
  padding: 0.3em 0.8em;
  /* Adjusted padding for compactness */
  border-radius: 8px;
  text-transform: uppercase;
  display: inline-grid;
  /* Changed from grid to inline-grid */
  place-items: center;
  border: 2px solid var(--color);
}

.tooltip-container .text {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  display: grid;
  place-items: center;
  transform-origin: -100%;
  transform: scale(1);
  transition: all 0.4s cubic-bezier(0.23, 1, 0.32, 1);
}

.tooltip-container span:last-child {
  position: absolute;
  top: 0%;
  left: 100%;
  width: 100%;
  height: 100%;
  border-radius: 8px;
  opacity: 1;
  background-color: var(--background);
  z-index: -1;
  border: 2px solid var(--background);
  transform: scale(0);
  transform-origin: 0;
  transition: all 0.4s cubic-bezier(0.23, 1, 0.32, 1);
  display: grid;
  place-items: center;
}

.tooltip-container .tooltip {
  position: absolute;
  top: 0;
  left: 50%;
  transform: translateX(-50%);
  padding: 0.3em 0.6em;
  opacity: 0;
  pointer-events: none;
  transition: all 0.4s cubic-bezier(0.23, 1, 0.32, 1);
  background: var(--background);
  z-index: 10;
  border-radius: 8px;
  scale: 0;
  transform-origin: 0 0;
  text-transform: none;
  /* Allow normal case */
  font-weight: 400;
  font-size: 14px;
  /* Reduced from 16px */
  box-shadow: rgba(0, 0, 0, 0.25) 0 8px 15px;
  white-space: nowrap;
  /* Prevent wrapping initially */
  min-width: max-content;
}

.tooltip-container .tooltip::before {
  position: absolute;
  content: "";
  height: 0.6em;
  width: 0.6em;
  bottom: -0.2em;
  left: 50%;
  transform: translate(-50%) rotate(45deg);
  background: var(--background);
}

.tooltip-container:hover .tooltip {
  top: -120%;
  /* Moved up slightly more */
  opacity: 1;
  visibility: visible;
  pointer-events: auto;
  scale: 1;
  animation: shake 0.5s ease-in-out both;
}

.tooltip-container:hover {
  box-shadow: rgba(0, 0, 0, 0.25) 0 8px 15px;
  color: white;
  border-color: transparent;
}

.tooltip-container:hover span:last-child {
  transform: scale(1);
  left: 0;
}

.tooltip-container:hover .text {
  opacity: 0;
  top: 0%;
  left: 100%;
  transform: scale(0);
}

@keyframes shake {
  0% {
    rotate: 0;
  }

  25% {
    rotate: 7deg;
  }

  50% {
    rotate: -7deg;
  }

  75% {
    rotate: 1deg;
  }

  100% {
    rotate: 0;
  }
}

/* Uiverse Button Base Styles */
.btn-uiverse {
  /* Default variables (Grey Theme fallback) */
  --uib-bg: #e8e8e8;
  --uib-color: #090909;
  --uib-wave: #F59E0B;
  /* Yellow wave by default */
  --uib-hover-text: #ffffff;
  --uib-border: #e8e8e8;
  --uib-shadow-1: #c5c5c5;
  --uib-shadow-2: #ffffff;

  position: relative;
  overflow: hidden;
  z-index: 1;
  color: var(--uib-color);
  background: var(--uib-bg);
  border: 1px solid var(--uib-border);
  box-shadow: 6px 6px 12px var(--uib-shadow-1), -6px -6px 12px var(--uib-shadow-2);
  transition: all 0.2s ease-in;
}

.btn-uiverse:active {
  color: #666;
  box-shadow: inset 4px 4px 12px var(--uib-shadow-1), inset -4px -4px 12px var(--uib-shadow-2);
}

.btn-uiverse:before {
  content: "";
  position: absolute;
  left: 50%;
  transform: translateX(-50%) scaleY(1) scaleX(1.25);
  top: 100%;
  width: 140%;
  height: 180%;
  background-color: rgba(0, 0, 0, 0.05);
  border-radius: 50%;
  display: block;
  transition: all 0.5s 0.1s cubic-bezier(0.55, 0, 0.1, 1);
  z-index: -1;
}

.btn-uiverse:after {
  content: "";
  position: absolute;
  left: 55%;
  transform: translateX(-50%) scaleY(1) scaleX(1.45);
  top: 180%;
  width: 160%;
  height: 190%;
  background-color: var(--uib-wave);
  border-radius: 50%;
  display: block;
  transition: all 0.5s 0.1s cubic-bezier(0.55, 0, 0.1, 1);
  z-index: -1;
}

.btn-uiverse:hover {
  color: var(--uib-hover-text);
  border-color: var(--uib-wave);
}

/* Fix for icons inside buttons getting lost */
.btn-uiverse:hover svg {
  color: var(--uib-hover-text);
}

.btn-uiverse:hover:before {
  top: -35%;
  background-color: var(--uib-wave);
  transform: translateX(-50%) scaleY(1.3) scaleX(0.8);
}

.btn-uiverse:hover:after {
  top: -45%;
  background-color: var(--uib-wave);
  transform: translateX(-50%) scaleY(1.3) scaleX(0.8);
}

/* Destructive Button (Red Theme) */
.btn-destructive {
  --uib-bg: #ef4444;
  /* Red-500 */
  --uib-color: #ffffff;
  --uib-wave: #b91c1c;
  /* Red-700 */
  --uib-hover-text: #ffffff;
  --uib-border: #ef4444;
  --uib-shadow-1: #b91c1c;
  --uib-shadow-2: #fca5a5;

  border-color: transparent;
}

/* Metric Card - Uiverse Style */
.card-metric {
  --primary-clr: #1C204B;
  /* Default, will be overridden */
  --dot-clr: #BBC0FF;
  --accent-clr: hsl(195, 74%, 62%);
  /* Replaces --play */

  width: 100%;
  min-height: 170px;
  border-radius: 10px;
  font-family: inherit;
  color: #fff;
  display: grid;
  cursor: pointer;
  grid-template-rows: 50px 1fr;
  transition: all 0.2s ease;
}

.card-metric:hover .img-section {
  transform: translateY(1em);
}

.card-metric-desc {
  border-radius: 10px;
  padding: 15px;
  position: relative;
  top: -10px;
  display: grid;
  gap: 10px;
  background: var(--primary-clr);
}

.card-metric-time {
  font-size: 1.7em;
  font-weight: 500;
}

.card-metric .img-section {
  transition: 0.2s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  border-top-left-radius: 10px;
  border-top-right-radius: 10px;
  background: var(--accent-clr);
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 10px;
}

.card-metric-header {
  display: flex;
  align-items: center;
  width: 100%;
}

.card-metric-title {
  flex: 1;
  font-size: 0.9em;
  font-weight: 500;
}

.card-metric-menu {
  display: flex;
  gap: 4px;
  margin-inline: auto;
}

.card-metric .dot {
  width: 5px;
  height: 5px;
  border-radius: 50%;
  background: var(--dot-clr);
}

.card-metric .recent {
  line-height: 0;
  font-size: 0.8em;
  opacity: 0.8;
}

/* Icons styling within card */
.card-metric svg {
  width: 2rem;
  height: 2rem;
  color: white;
  stroke-width: 2px;
}

/* --- New Dashboard Status Cards (User Requested Style) --- */
.status-container {
  display: flex;
  justify-content: center;
  flex-wrap: wrap;
  gap: 20px;
}

.status {
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  background-color: #222533;
  color: #fbebe2;
  padding: 20px;
  width: 100%;
  /* Responsive width */
  min-height: 200px;
  /* Fixed height from request, but min-height for safety */
  border-radius: 26px;
  user-select: none;
  -moz-user-select: none;
  -webkit-user-select: none;
  transition: all 0.3s ease-in-out;
  border: transparent 1px solid;
  cursor: pointer;
}

.status span {
  font-size: 3.5rem;
  font-weight: 900;
  transition: all 0.3s ease-in-out;
  line-height: 1;
}

.status p {
  font-size: 14px;
  /* Increased base size slightly for readbility */
  transition: all 0.3s ease-in-out;
  margin-top: 10px;
  text-transform: uppercase;
  letter-spacing: 1px;
}

.status:hover {
  background-color: #1d1d1d;
  transform: scale(1.03);
  border: var(--card-hover-color) 1px solid;
}

.status:hover p {
  font-size: 15px;
  font-weight: 500;
  color: #b1cbf6;
}

.status:hover span {
  font-size: 4rem;
  color: var(--card-hover-color);
}

.mac-header {
  display: flex;
  align-items: center;
  gap: 8px;
  margin-bottom: 15px;
  height: 12px;
}

/* Hide dots as requested */
.mac-header span {
  display: none;
}